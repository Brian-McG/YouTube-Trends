<!--
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * -->

<html>
<head>
    <meta charset="UTF-8">
    <title>Youtube Trends</title>
    <link rel="icon" href="images/favicon.ico">
    <link rel="stylesheet" href="css_dependents/normalize.css" type="text/css">
    <link rel="stylesheet" href="css_dependents/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css_dependents/bootstrap-theme.min.css" type="text/css">
    <link rel="stylesheet" href="css_dependents/c3.min.css" type="text/css">
    <link rel="stylesheet" href="css_dependents/ion.rangeSlider.css" type="text/css">
    <link rel="stylesheet" href="css_dependents/ion.rangeSlider.skinHTML5.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <link rel="stylesheet" href="css/top-style.css" type="text/css">

    <script src="js_dependents/jquery-2.2.1.min.js"></script>
    <script src="js_dependents/bootstrap.min.js"></script>
    <script src="js_dependents/d3.v3.min.js" charset="utf-8"></script>
    <script src="js_dependents/d3-legend.min.js"></script>
    <script src="js_dependents/topojson.min.js"></script>
    <script src="js_dependents/datamaps.world.js"></script>
    <script src="js_dependents/c3.min.js"></script>
    <script src="js_dependents/ion.rangeSlider.min.js"></script>
    <script src="js/line-graph.js"></script>
    <script type="text/javascript" src="data/all.json"></script>


    <style>
        img {
            width: 100%;
        }

        p {
            margin-left: 30px;
            font-size: 20px;
            color: black;

        }

        h3 {
            margin-top: 3px;
            margin-left: 30px;
            font-size: 25px;
            color: black;
        }

        select {
            margin-left: 30px;
            font-size: 20px;
            color: black;
        }

        #maps {
            margin-left: 30px;
            margin-right: 60px;
            width: 100%;
            height: 22vw;
        }

        #leftmap {
            float: left;
            width: 48%;
            height: 20vw;
            border: 1px solid grey;
            overflow: hidden;
        }

        #rightmap {
            float: right;
            margin-right: 35px;
            width: 48%;
            height: 20vw;
            border: 1px solid grey;
            overflow: hidden;
        }

        g.datamaps-subunits {
            cursor: hand;
        }
    </style>

</head>
<body onload="changeVariable('', true);changeVariableRight()">
<div id="Top_Container">
    <div class="page-header">
        <h1 id="Heading">Youtube Trends</h1>
    </div>
    <div id="Container_Top_Left">

        <div id="box">
            <div id="pic">
                <!-- <img id="Icon" src="images/icon.png" alt="Icon" style="float:right;width:270px;height:180px;"> -->
                <iframe id="Icon" alt="Icon" style="float:right;width:270px;height:180px;"
                        src="">
                </iframe>
            </div>
            <div id="topbar">
                <div id="lefttop" class="col-xs-5 selectContainer">
                    <select id="file_type" class="form-control" name="file_type" onchange="changeVariable('', true)">
                        <option value="GangnamStyle">Gangnam Style</option>
                        <option value="BlankSpace">Blank Space</option>
                        <option value="SeeYouAgain">See You Again</option>
                        <option value="UptownFunk">Uptown Funk</option>

                    </select>
                </div>
                <div id=middletop>
                    <img src="images/Youtube.png" alt="Symbol" id="Symbol" style="float:right;width:60px;height:40px;">
                </div>
                <div id="righttop" class="col-xs-5 selectContainer">
                    <select id="trend_type" class="form-control" name="trend_type" onchange="changeVariable('', false)" style="float:right">
                        <option value="Youtube">Youtube Trends</option>
                        <option value="Google">Google Trends</option>
                    </select>
                </div>
            </div>
            <div id="WritingYoutube">
                <br>
                <h2><span id="Name"></span></h2>

                <p>
                    <img src="images/mic.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Wrap"><span class="Label">Artist:</span><span id="Artist"></span></span>
                </p>
                <p>
                    <img src="images/like.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Label">Likes:</span><span id="Likes"></span>
                </p>
                <p>
                    <img src="images/dislike.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Label">Dislikes:</span><span id="Dislikes"></span>
                </p>
                <p>
                    <img src="images/eye.png" alt="Like" style="float:left;width:20px;height:25px;">
                    <span class="Label">Views:</span><span id="Views"></span>
                </p>
                <p>
                    <img src="images/comment-icon-black.png" alt="Like" style="float:left;width:20px;height:25px;">
                    <span class="Label">Comments:</span><span id="Comments"></span>
                </p>
                <p>
                    <img src="images/calendar.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Label">Date Published:</span><span id="Date"></span>
                </p>
            </div>
            <div id="WritingGoogle">
                <br>
                <h2><span id="NameGoogle"></span></h2>
                <p>
                    <img src="images/mic.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Wrap"><span class="Label">Artist:</span><span id="ArtistGoogle"></span></span>
                </p>
                <p>
                    <img src="images/hits.png" alt="Like" style="float:left;width:20px;height:25px;">
                    <span class="Label">Hits:</span><span id="ViewGoogle"></span>
                </p>
                <p>
                    <img src="images/calendar.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Label">Released:</span><span id="DatePub"></span>
                </p>
            </div>
        </div>
    </div>
    <div id="Container_Top_Right">
        <div id="box_right">
            <div id="pic_right">
                <!-- <img id="Icon_right" src="images/icon.png" alt="Icon" style="float:right;width:270px;height:180px;"> -->
                <iframe id="Icon_right" alt="Icon" style="float:right;width:270px;height:180px;"
                        src="">
                </iframe>
            </div>
            <div id="topbar_right">
                <div id="lefttop_right" class="col-xs-5 selectContainer">
                    <select id="file_type_right" class="form-control" name="file_type" onchange="changeVariable('_right', true)">
                        <option value="GangnamStyle">Gangnam Style</option>
                        <option selected="selected" value="BlankSpace">Blank Space</option>
                        <option value="SeeYouAgain">See You Again</option>
                        <option value="UptownFunk">Uptown Funk</option>
                    </select>
                </div>
                <div id=middletop_right>
                    <img src="images/Youtube.png" alt="Symbol" id="Symbol_right" style="float:right;width:60px;height:40px;">
                </div>
                <div id="righttop_right" class="col-xs-5 selectContainer">
                    <select id="trend_type_right" class="form-control" name="trend_type" onchange="changeVariable('_right', false)" style="float:right">
                        <option value="Youtube">Youtube Trends</option>
                        <option value="Google">Google Trends</option>
                    </select>
                </div>
            </div>
            <div id="WritingYoutube_right">
                <br>
                <h2><span id="Name_right"></span></h2>
                <p>
                    <img src="images/mic.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Wrap"><span class="Label">Artist:</span><span id="Artist_right"></span></span>
                </p>
                <p>
                    <img src="images/like.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Label">Likes:</span><span id="Likes_right"></span>
                </p>
                <p>
                    <img src="images/dislike.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Label">Dislikes:</span><span id="Dislikes_right"></span>
                </p>
                <p>
                    <img src="images/eye.png" alt="Like" style="float:left;width:20px;height:25px;">
                    <span class="Label">Views:</span><span id="Views_right"></span>
                </p>
                <p>
                    <img src="images/comment-icon-black.png" alt="Like" style="float:left;width:20px;height:25px;">
                    <span class="Label">Comments:</span><span id="Comments_right"></span>
                </p>
                <p>
                    <img src="images/calendar.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Label">Date Published:</span><span id="Date_right"></span>
                </p>
            </div>
            <div id="WritingGoogle_right">
                <br>
                <h2><span id="NameGoogle_right"></span></h2>
                <p>
                    <img src="images/mic.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Wrap"><span class="Label">Artist:</span><span id="ArtistGoogle_right"></span></span>
                </p>
                <p>
                    <img src="images/hits.png" alt="Like" style="float:left;width:20px;height:25px;">
                    <span class="Label">Hits:</span><span id="ViewGoogle_right"></span>
                </p>
                <p>
                    <img src="images/calendar.png" alt="Like" style="float:left;width:20px;height:20px;">
                    <span class="Label">Released:</span><span id="DatePub_right"></span>
                </p>
            </div>
        </div>
    </div>
</div>
<div id="pop">
    <h2>Popularity by Region</h2>
    <h4>
        Normalized between 1-100
    </h4>
    <svg id="legendsvg" style="width:40%;height:10%;display:block;margin:0 auto;"></svg>
</div>
<div id='maps'>
    <div id='leftmap'></div>
    <div id='rightmap'></div>
</div>
<div id='slider_container' class='container'>
    <h3 id="week_slider_header" class="output">Week 1 from release</h3>
    <input type="text" id="slider" name="slider" value="" />
</div>
<div id="line_graphs">
    <div id='merge_button'>
        <button id="merge_line_graph_button" class="btn btn-primary" onclick="mergeClick()">Merge graphs</button>
        <button id="reset_line_graph_button" class="btn btn-primary" onclick="resetGraphs()">Reset Graphs</button>
    </div>
    <div id='left_container' class='container left_container'>
        <h2 id="line_graph_1_header" class="line_graph_header">Global Trends</h2>
        <h2 class="line_graph_header"><small id="line_graph_1_subheader" >Gangnam Style</small></h2>
        <div id="line_graph_1" class="graph"></div>
        <div id="line_graph_1_legend" class="line_graph_legend"></div>
    </div>
    <div id='right_container' class='container right_container'>
        <h2 id="line_graph_2_header" class="line_graph_header">Global Trends</h2>
        <h2 class="line_graph_header"><small id="line_graph_2_subheader" >Blank Space</small></h2>
        <div id="line_graph_2" class="graph"></div>
        <div id="line_graph_2_legend" class="line_graph_legend"></div>
    </div>
    <div id="merge_container">
        <h2 id="line_graph_merged_header" class="line_graph_header">Merged Popularity Trends</h2>
            <h2 class="line_graph_header"><small id="line_graph_merge_subheader">Gangnam Style Global vs Blank Space Global</small></h2>
        <div id="line_graph_merged" class="graph"></div>
        <div id="line_graph_merged_legend" class="line_graph_legend"></div>
    </div>
</div>
<script>

    $(document).ready(function () {
        var l = $("#topbar");
        var r = $("#topbar_right");
        var posl = l.position();
        var posr = r.position();
        $(window).scroll(function () {
            var windowpos = $(window).scrollTop();
            if (windowpos >= posl.top && windowpos >= posr.top) {
                $('#topbar').css({position: 'fixed'});
                $('#topbar_right').css({position: 'fixed'});
                r.addClass("stick");
                l.addClass("stick");
            } else {
                $('#topbar').css({position: 'absolute'});
                $('#topbar_right').css({position: 'absolute'});
                r.removeClass("stick");
                l.removeClass("stick");
            }
        });
    });
    $("#slider").ionRangeSlider({
        grid: true,
        min: 1,
        max: 52,
        step: 1,
        grid_num: 1,
        onChange: function(data) {
            var from = data.from;
            $(".output").text("Week " + from + " from release");
            setAxisGrid(from);
            setWeek(from);
        }
    });
    setTimeout(function() {
        var slider = $("#slider").data("ionRangeSlider");

        // Fire public method
        slider.reset();
    }, 1000);



</script>
</body>
<script src="js/left-top.js"></script>
<script src="js/right-top.js"></script>
<script src="js/maps.js"></script>
</html>
